{#
/**
    * @file
    * Default theme implementation to display a block.
    *
    * Available variables:
    * - plugin_id: The ID of the block implementation.
    * - label: The configured label of the block if visible.
    * - configuration: A list of the block's configuration values.
    *   - label: The configured label for the block.
    *   - label_display: The display settings for the label.
    *   - provider: The module or other provider that provided this block plugin.
    *   - Block plugin specific settings will also be stored here.
    * - content: The content of this block.
    * - attributes: array of HTML attributes populated by modules, intended to
    *   be added to the main container tag of this template.
    *   - id: A valid HTML ID and guaranteed unique.
    * - title_attributes: Same as attributes, except applied to the main title
    *   tag that appears in the template.
    * - title_prefix: Additional output populated by modules, intended to be
    *   displayed in front of the main title tag that appears in the template.
    * - title_suffix: Additional output populated by modules, intended to be
    *   displayed after the main title tag that appears in the template.
    *
    * @see template_preprocess_block()
    *
    * @ingroup themeable
    */
#}
<div{{ attributes }}>
    {{ title_prefix }}
    {% if label %}
    <h2{{ title_attributes }}>{{ label }}</h2>
    {% endif %}
    {{ title_suffix }}
    {% block content %}

        {% if content|length % 4 == 0 %}
          {% set index = (content|length / 4) %}
        {% else %}
          {% set index = (content|length / 4) + 1 %}
        {% endif %}

        {% if content|length > 4 %}
            <!--Carousel Wrapper-->
            <div id="multi-item-articles" class="carousel slide carousel-multi-item" data-ride="carousel">

            <!--Controls-->
            <div class="controls-top">
                <a class="btn-floating" href="#multi-item-articles" data-slide="prev"><i class="fa fa-arrow-left"><img src="/themes/custom/consum_es/assets/img/left.svg" class="btn-ci"/></i></a>
                <a class="btn-floating" href="#multi-item-articles" data-slide="next"><i class="fa fa-arrow-right"><img src="/themes/custom/consum_es/assets/img/right.svg" class="btn-ci"/></i></a>
            </div>
            <!--/.Controls-->

            <!--Slides-->
            <div class="carousel-inner" role="listbox">
            <!--First slide-->
                {% for slider in range(0, index - 1) %}
                    {% if slider < 1 %}
                        <div class="carousel-item active">
                    {% else %}
                        <div class="carousel-item">
                    {% endif %}

                    <div class="row">
                        <div class="col-md-3">
                        {% set element_index = attribute(content, 4 * slider) %}
                        {{ element_index }}
                        </div>

                        <div class="col-md-3">
                        {% set element_index = attribute(content, 4 * slider + 1) %}
                        {{ element_index }}
                        </div>

                        <div class="col-md-3">
                        {% set element_index = attribute(content, 4 * slider + 2) %}
                        {{ element_index }}
                        </div>

                        <div class="col-md-3">
                        {% set element_index = attribute(content, 4 * slider + 3) %}
                        {{ element_index }}
                        </div>
                    </div>

                    </div>

                {% endfor %}

            </div>
            <!--/.Slides-->

        </div>
        <!--/.Carousel Wrapper-->
        {% else %}
                <div class="row">
                    <div class="col-md-3">
                    {% set element_index = attribute(content, 0) %}
                    {{ element_index }}
                    </div>

                    <div class="col-md-3">
                    {% set element_index = attribute(content, 1) %}
                    {{ element_index }}
                    </div>

                    <div class="col-md-3">
                    {% set element_index = attribute(content, 2) %}
                    {{ element_index }}
                    </div>

                    <div class="col-md-3">
                    {% set element_index = attribute(content, 3) %}
                    {{ element_index }}
                    </div>
                </div>
        {% endif %}

    {% endblock %}
</div>
