{#
    Variables
	img1: background image
  gradient: 1 apply gradient and 0 not apply
	texto1: text
	texto2: link text
  modal_text: text for popup
  modal_id: id for popup
	color_bot: style of button
	color_fondo: background color
  customHeight: Custom Height for block
  ocultar: dispositivos en los que el bloque no se mostrar√°. Opciones: 'escritorio', 'movil', 'tablet'
#}

{% set build_texto1 = {
    '#type':   'processed_text',
    '#text':    texto1.value,
    '#format': 'rich_text',
  }
%}

{% if gradient == 1 %}
  {% set style_gradient = 
    'linear-gradient(rgba(0, 0, 0, 0.5),rgba(0, 0, 0, 0.5)),'
  %}
{% endif %}

{#{ vardumper(modal_text.value) }#}

<div class="cta {{ color_fondo }}
{% if ocultar['escritorio'] %}  d-lg-none d-xl-none {% else %} d-lg-block d-xl-block  {% endif %}
{% if ocultar['tablet'] %} d-md-none {% else %} d-md-block {% endif %}
{% if ocultar['movil'] %} d-none d-sm-none {% else %} d-xs-block d-sm-block {% endif %}
"style="background-image: {% if style_gradient %} {{ style_gradient }} {% endif %} url('{{ img1 }}'); {% if alto  %} padding:0px!important; {% endif %}">
  
  <div class="row justify-content-center align-items-center {{ alto }}" style="{% if customHeight  %} min-height: {{ customHeight }}{% endif %}">
    <div class="col-12">
      <h4 class="{% if color_fondo == 'sin-fondo' or color_fondo == 'fondo-blanco' %} gris3  {% endif %}">
        {{ build_texto1 }}
       </h4>      
        <br />
        <a type="button" class="{{ color_bot }}" data-toggle="modal" data-target="#customModal-{{ modal_id }}" role="button">{{ texto2 }}</a>
      
      {% if modal_text.value %}
      <div class="modal" id="customModal-{{ modal_id }}">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-body">
              {{ modal_text.value|raw }}
            </div>           
          </div>
        </div>
      </div>
      {% endif %}

    </div>
  </div>

</div>


